<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Kim">
<select id="select-bookmark" parameterType="map" resultType="int">
select count(*) from organization_bookmarks where user_idx=#{user_idx} and organization_id =#{organization_id}
</select>
<insert id="insert-bookmark" parameterType="map">
insert into organization_bookmarks values(#{user_idx},#{organization_id})
</insert>
<delete id="delete-bookmark" parameterType="map">
delete from organization_bookmarks where  user_idx=#{user_idx}  and organization_id =#{organization_id}
</delete>
<select id="select-organization_id" parameterType="int" resultType="contribution.model.BookmarkDto">
select organization_id from organization_bookmarks where user_idx=#{user_idx}
</select>
<insert id="insert-group_user" parameterType="map">
insert into users (user_id,password,user_type_id,nickname,register_date,organization_id,name) values(#{user_id},#{password},2,#{nickname},#{register_date},#{organization_id},#{name})
</insert>
<insert id="insert-organizations" parameterType="contribution.model.GroupUserCommand">
insert into organizations values(#{organization_id},#{nanmmByNm},#{rprsntvNm},#{fondDe},#{cntrDdcTy},#{ctbgrnpAppnNo},#{dmstcTelno},#{fxnum},#{adres},#{adres_detail},#{zip},#{hmpadres},#{bizrno},#{type_id})
</insert>
<select id="select-organizations_count" parameterType="String" resultType="int">
select count(*) from organizations where organization_id=#{organization_id}
</select>
<select id="select-organizationsAll" parameterType="String" resultType="contribution.model.GroupUserCommand">
select * from organizations where organization_id=#{organization_id}
</select>

<select id="select-programCount" parameterType="String"  resultType="int">
select count(*) from programs where organization_id=#{organization_id}
</select>

<select id="select-programAll" parameterType="String" resultType="contribution.model.Program">
select * from programs where organization_id=#{organization_id}
</select>

<select id="select-programImgae" parameterType="String" resultType="map">
select image_url from program_images where organization_id=#{organization_id} and original_file_name=#{original_file_name}
</select>


</mapper>